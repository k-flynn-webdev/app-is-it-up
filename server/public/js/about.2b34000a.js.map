{"version":3,"sources":["webpack:///./src/views/Job.vue?9802","webpack:///src/views/Job.vue","webpack:///./src/views/Job.vue?15f7","webpack:///./src/views/Job.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","job","staticClass","ref","on","OnUpdate","_v","staticStyle","OnDelete","staticRenderFns","name","data","active","pings","methods","status","fails","url","ping","method","params","meta","max","num","next","periods","day","week","month","user","job_id","components","ButtonC","Card","JobRender","GetJob","JobService","OnValidate","event","preventDefault","setTimeout","self","$router","push","mounted","component"],"mappings":"8GAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACA,EAAG,aAAa,CAACE,MAAM,CAAC,MAAQN,EAAIM,MAAM,IAAMN,EAAIO,MAAM,CAACH,EAAG,MAAM,CAACI,YAAY,cAAc,CAACJ,EAAG,WAAW,CAACK,IAAI,aAAaC,GAAG,CAAC,MAAQV,EAAIW,WAAW,CAACX,EAAIY,GAAG,cAAcR,EAAG,MAAM,CAACS,YAAY,CAAC,QAAU,eAAe,MAAQ,UAAUT,EAAG,WAAW,CAACK,IAAI,aAAaC,GAAG,CAAC,MAAQV,EAAIc,WAAW,CAACd,EAAIY,GAAG,eAAe,MAAM,IAClbG,EAAkB,G,gDCmBtB,GACEC,KAAM,MACNC,KAFF,WAGI,MAAO,CACLX,MAAN,CACQY,OAAR,QACQC,MAAR,gBACQC,QAAR,+BAEMb,IAAN,CACQW,QAAQ,EACRG,QAAQ,EACRC,MAAO,GACPC,IAAK,GACLC,KAAM,EACNC,OAAQ,GACRC,OAAQ,GACRC,KAAM,CACJC,IAAK,EACLC,IAAK,EACLC,KAAM,IAERC,QAAS,CACPC,IAAK,EACLC,KAAM,EACNC,MAAO,GAETC,KAAM,GACNC,OAAQ,MAIdC,WAAY,CACVC,QAAJ,OACIC,KAAJ,OACIC,UAAJ,QAEEpB,QAAF,CACIqB,OAAJ,sBACMC,EAAN,mEACQ,EAAR,uBACQ,EAAR,eACA,wBAGIC,WAAJ,WAEM,QAAN,yBACA,sBACA,qBAKIhC,SAAJ,sBACMiC,MAAMC,iBAEZ,mBAIMH,EAAN,wCACQ,EAAR,6BACQ,EAAR,yCACA,mBACQ,EAAR,0BACQ,EAAR,mDAGI5B,SAAJ,sBACM8B,MAAMC,iBAENH,EAAN,kEACQ,EAAR,6BACQ,EAAR,sCACQ,IAAR,IACQI,YAAW,WACTC,EAAKC,QAAQC,KAAK,OAC5B,SACA,mBACQ,EAAR,6BACQ,EAAR,oDAIEC,QArFF,WAsFIjD,KAAKwC,WC1GoU,I,YCOzUU,EAAY,eACd,EACApD,EACAgB,GACA,EACA,KACA,KACA,MAIa,aAAAoC,E","file":"js/about.2b34000a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('card',[_c('job-render',{attrs:{\"attrs\":_vm.attrs,\"job\":_vm.job}},[_c('div',{staticClass:\"text-right\"},[_c('button-c',{ref:\"btn_update\",on:{\"click\":_vm.OnUpdate}},[_vm._v(\" Update \")]),_c('div',{staticStyle:{\"display\":\"inline-block\",\"width\":\"1rem\"}}),_c('button-c',{ref:\"btn_delete\",on:{\"click\":_vm.OnDelete}},[_vm._v(\" Delete \")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <card>\n    <job-render :attrs=attrs :job=job>\n      <div class=\"text-right\">\n        <button-c ref=\"btn_update\" v-on:click=OnUpdate> Update </button-c>\n        <div style=\"display:inline-block;width:1rem;\"></div>  \n        <button-c ref=\"btn_delete\" v-on:click=OnDelete> Delete </button-c>\n      </div>\n    </job-render>\n  </card>\n\n</template>\n\n<script>\n\nimport ButtonC from '@/components/ButtonC.vue'\nimport Card from '@/components/Card.vue'\nimport JobRender from '@/components/Job.vue'\nimport JobService from '../helpers/JobService.js';\n\nexport default {\n  name: 'Job',\n  data(){\n    return {\n      attrs : {\n        active : [true,false],\n        pings : [1,15,30,45,60],\n        methods : ['GET','POST','PUT','DELETE'],\n      },\n      job : {\n        active: false,\n        status: false,\n        fails: [],\n        url: \"\",\n        ping: 0,\n        method: \"\",\n        params: \"\",\n        meta: {\n          max: 0, \n          num: 0, \n          next: \"\",\n        },\n        periods: {\n          day: 0, \n          week: 0, \n          month: 0,\n        },\n        user: \"\",\n        job_id: \"\",\n      },\n    }\n  }, \n  components: {\n    ButtonC,\n    Card,\n    JobRender,\n  },\n  methods : {\n    GetJob : function(){\n      JobService.get_job({ job_id : this.$route.params.job_id }).then(response => {\n        this.job = response.data.data.job[0];\n        this.job.full = true;\n      }).catch(error => {\n      });\n    },\n    OnValidate : function(){\n\n      if(this.job.url.length < 4)  return false;\n      if(this.job.method === '')  return false;\n      if(this.job.ping === '')  return false;\n\n      // todo\n      return true;\n    },\n    OnUpdate : function(){\n      event.preventDefault();\n\n      if(!this.OnValidate()){\n        return;\n      }\n\n      JobService.update(this.job).then(response => {\n        this.$refs.btn_update.OnSuccess();\n        this.$root.$emit('message', response.data.message );\n      }).catch(error => {\n        this.$refs.btn_update.OnFail();\n        this.$root.$emit('message', error.response.data.message);\n      }); \n    },\n    OnDelete : function(){\n      event.preventDefault();\n      \n      JobService.remove({ job_id : this.$route.params.job_id }).then(response => {\n        this.$refs.btn_delete.OnSuccess();\n        this.$root.$emit('message', response.data.message );\n        let self = this;\n        setTimeout( function(){\n          self.$router.push('/');\n        }, 3.5 * 1000);\n      }).catch(error => {\n        this.$refs.btn_delete.OnSuccess();\n        this.$root.$emit('message', error.response.data.message);\n      }); \n    },   \n  },\n  mounted(){\n    this.GetJob();\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Job.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Job.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Job.vue?vue&type=template&id=4c8ee36e&\"\nimport script from \"./Job.vue?vue&type=script&lang=js&\"\nexport * from \"./Job.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}